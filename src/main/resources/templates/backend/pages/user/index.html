<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns="http://www.w3.org/1999/html"
>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Management</title>
    <link
      href="/webjars/bootstrap/5.1.3/css/bootstrap.min.css"
      type="text/css"
      rel="stylesheet"
    />
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.15/js/jquery.dataTables.min.js"></script> -->

    <script
      type="text/javascript"
      src="/webjars/jquery/3.6.0/jquery.min.js"
    ></script>
    <script
    src="/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js" type="text/javascript"></script>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
    <script type="text/javascript" src="/backend/js/sweetalert2.js"></script>
    <script type="text/javascript" src="/backend/js/alert_label.js"></script>
    <script src="/webjars/datatables/1.11.4/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.15/css/jquery.dataTables.min.css" />
      <link th:href="@{/backend/css/sidebar_and_header.css}" rel="stylesheet" />

      <link
      type="text/css"
      rel="stylesheet"
      src="src/main/resources/static/backend/css/sidebar_and_header.css" />
    <!-- <link
      type="text/css"
      rel="stylesheet"
      src="/webjars/datatables/1.11.4/css/jquery.dataTables.min.css" /> -->
    <!-- <script src="/js/product.js"></script> -->

    <!-- <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.15/css/jquery.dataTables.min.css"
    /> -->
  </head>

  <body>
    <div th:replace="backend/fragments/header::header"></div>

         <!-- /#sidebar-wrapper -->
         <div id="wrapper">
            <div th:replace="backend/fragments/sidebar::sidebar"> </div>
    
            <div id="page-content-wrapper">

              <div th:replace="backend/fragments/alert_message::alert_message"></div>

                
                <div class="container-fluid">
                  <a th:href="@{/admin/user/create}" class="btn btn-success mb-2" style="float: right; margin-top: 10px;">Add</a>
                    <table id="userTable" class="table table-striped" >
                        <thead>
                            <tr >
                            <th scope="col">No</th>
                            <th scope="col">Full Name</th>
                            <th scope="col">Username</th>
                            <th scope="col">Password</th>
                            <th scope="col">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                    
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
    
        <script>
          $(document).ready(function () {
            var table = $("#userTable").DataTable({
              sAjaxSource: "/api/admin/user",
              sAjaxDataProp: "",
              processing: true,

              columns: [
                { mData: "user_id" },
                { mData: "fullname" },
                { mData: "username" },
                { mData: "password" },
                {
                  mData: null,
                  render: function (data, meta, type, full) {
                    return (
                      '<a style="margin-right:5px" href="/admin/user/' +
                      data.user_id +
                      '/edit" class="btn btn-warning mr-5" >Edit</a><a id="delete" href="/admin/user/' +
                      data.user_id +
                      '/delete" class="ml-2 btn btn-danger"  >Delete</a>'
                    );
                  },
                },
              ],
            });
    
            table
              .on("order.dt search.dt", function () {
                table
                  .column(0, { search: "applied", order: "applied" })
                  .nodes()
                  .each(function (cell, i) {
                    cell.innerHTML = i + 1;
                  });
              })
              .draw();
          });
        </script>
        <!-- /#wrapper -->


      
    </div>
    </div>

   
   
     

   
    <script
      src="/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js"
      type="text/javascript"
    ></script>
  </body>
</html>
