<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Add Product</title>
  <link href="/webjars/bootstrap/5.1.3/css/bootstrap.min.css" type="text/css" rel="stylesheet" />
  <link th:href="@{/backend/css/sidebar_and_header.css}" rel="stylesheet" />
  <script type="text/javascript" src="/webjars/jquery/3.6.0/jquery.min.js"></script>

</head>

<body>
  <div th:replace="backend/fragments/header::header"></div>
  <div id="wrapper">
    <div th:replace="backend/fragments/sidebar::sidebar"> </div>

    <div id="page-content-wrapper">
      <div class="container-fluid">
        <h3>Add Product</h3>
        <form th:object="${productData}" th:action="@{/admin/product/store}" method="post" enctype="multipart/form-data">
          <div class="row">
            <div class="col-6">
              <div class="form-group mt-2">
                <label for="name">Code</label>
                <input th:field="*{code}" type="text" class="form-control" id="code" placeholder="Enter Product Code" />
                <span th:if="${#fields.hasErrors('code')}" th:errors="*{code}" class="text-danger">Code Error</span>
    
              </div>
              <div class="form-group mt-2">
                <label for="name">Name</label>
                <input th:field="*{name}" type="text" class="form-control" id="name" placeholder="Enter Product Name" />
                <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="text-danger">Code Error</span>
              </div>
    
              <div class="form-group mt-3">
                <label for="category_id">Category</label>
                <select th:object="${productData.category}" name="category" id="category" class="form-select">
                  <option value="">Select Category</option>
                  <option th:each="category: ${categoryData}" th:value="${category.category_id}" th:text="${category.name}">
                  </option>
                </select>
                <span th:if="${#fields.hasErrors('category')}" th:errors="*{category}" class="text-danger">Code
                  Error</span>
              </div>
    
              <div class="form-group mt-3">
                <label for="description">Description</label>
                <textarea th:field="*{description}" type="text" class="form-control" id="description"
                  placeholder="Enter Category Description"
                  rows="5"></textarea>
                <span th:if="${#fields.hasErrors('description')}" th:errors="*{description}" class="text-danger">Code Error</span>

              </div>
             </div>
    
          <div class="col-6">
            <div class="form-group mt-2">
              <label for="price">Price</label>
              <input th:field="*{price}" type="number" class="form-control" id="price" placeholder="Enter Product price" />
              <span th:if="${#fields.hasErrors('price')}" th:errors="*{price}" class="text-danger">Code Error</span>
            </div>
           
            <div class="form-group mt-2">
              <label for="stock">Stock</label>
              <input th:field="*{stock}" type="number" class="form-control" id="stock" placeholder="Enter Product Stock" />
              <span th:if="${#fields.hasErrors('stock')}" th:errors="*{stock}" class="text-danger">Code Error</span>
            </div>
            
            <div class="form-group mt-2">
              <label for="product_photo">Photo</label>
              <div class="row">
                <div class="col-6">
                  <input  name="product_photo" accept="image/*" type="file" class="form-control" id="photo"  />
                </div>
                <div class="col-6">
                  <img id="productPhoto" height="200px" width="150px" src="#" th:src="@{'/backend/images/ic_photo.png'}" />
                </div>
              </div>              <!-- <span th:if="${#fields.hasErrors('photo')}" th:errors="*{photo}" class="text-danger">Code Error</span> -->
            </div>
          </div>
          </div>
        

          <input type="submit" class="btn btn-primary mt-4" value="Save" />
        </form>
      </div>
    </div>

  </div>



  </div>
  </div>


  <script src="/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js" type="text/javascript"></script>
  <script type="text/javascript" src="/backend/js/show_image.js"></script>

</body>

</html>